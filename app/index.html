<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Poddycast</title>
    <link rel="stylesheet" href="./css/main.css">
    <link rel="stylesheet" href="./css/content_left.css">
    <link rel="stylesheet" href="./css/content_right.css">
    <link rel="stylesheet" href="./css/content_bottom.css">
    <link rel="stylesheet" href="./css/player.css">
    <link rel="stylesheet" href="./css/list_item.css">
    <link rel="stylesheet" href="node_modules/bootstrap-icons/font/bootstrap-icons.css">
    <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
    <script src="node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        window.i18n = new (require('./translations/i18n'));
        const feed = require('./js/feed');
        const search = require('./js/search');
        const global = require('./js/helper/helper_global');
        const navigation = require('./js/helper/helper_navigation');
        const entries = require('./js/helper/helper_entries');
        const audioPlayer = require('./js/player');
        const playlist = require('./js/playlist');
        const favorite = require('./js/favorite');
        const menu = require('./menu');
        const menujs = require('./js/menu');
        const translations = require('./js/translations');

        function onBodyLoad() {
            global.init();
            playlist.loadPlaylists();
            feed.readFeeds();
            menujs.showNewEpisodes();
            navigation.setItemCounts();
            translations.translate();
            audioPlayer.init();
        }
    </script>
</head>
<body onload="onBodyLoad()">
    <div id="content">

        <!-- Left pane -->
        <div id="content-left">
            <div id="search" class="bg-light rounded-3">
                <i class="bi bi-search my-auto text-secondary"></i>
                <input id="search-input" type="text" name="search" placeholder="Find podcast" onkeyup="search.search(this, event)">
            </div>
            <div id="menu" class="mt-2">
                <ul>
                    <li id="menu-episodes" class="mx-2 rounded-3 fw-light selected" onclick="menujs.selectMenuItem('menu-episodes'); menujs.showNewEpisodes()">
                        <i class="bi bi-music-note-list text-blue my-auto" style="font-size: 1.3rem;"></i>
                        <span class="new-episodes">New Episodes</span>
                        <div class="menu-count">0</div>
                    </li>
                    <li id="menu-favorites" class="mx-2 rounded-3 fw-light" onclick="menujs.selectMenuItem('menu-favorites'); menujs.showFavorites()">
                        <i class="bi bi-heart-fill text-pink my-auto" style="font-size: 1.3rem;"></i>
                        <span class="favorites">Favorites</span>
                        <div class="menu-count">0</div>
                    </li>
                    <li id="menu-history" class="mx-2 rounded-3 fw-light" onclick="menujs.selectMenuItem('menu-history'); menujs.showHistory()">
                        <i class="bi bi-clock-history text-secondary my-auto" style="font-size: 1.3rem;"></i>
                        <span class="history">History</span>
                    </li>
                    <li id="menu-statistics" class="mx-2 rounded-3 fw-light" onclick="menujs.selectMenuItem('menu-statistics'); menujs.showStatistics()">
                        <i class="bi bi-clipboard-data-fill text-teal my-auto" style="font-size: 1.3rem;"></i>
                        <span class="statistics">Statistics</span>
                    </li>
                    <li id="menu-refresh" class="mx-2 rounded-3 fw-light mt-4 btn btn-outline-secondary border-secondary" onclick="feed.readFeeds()">
                        <svg fill="#000" width="12" height="20.593" xmlns="http://www.w3.org/2000/svg" style="isolation:isolate" viewBox="0 0 24 23.593">
                            <defs><clipPath id="arefresh"><path d="M0 0h24v23.593H0z"/></clipPath></defs>
                            <g clip-path="url(#arefresh)"><path d="M14.383.015c1.393-.031 2.786-.002 4.18-.014 1.202.008 2.404-.008 3.606.007-.821.883-1.714 1.698-2.54 2.575.194.196.414.364.614.554a11.786 11.786 0 0 1 3.372 5.641 11.914 11.914 0 0 1-.08 6.301 11.78 11.78 0 0 1-3.964 5.928c-2.276 1.838-5.253 2.759-8.168 2.559 0-1.117.004-2.233-.002-3.35 1.195.071 2.412-.034 3.544-.442 2.068-.705 3.826-2.255 4.803-4.207a8.47 8.47 0 0 0 .811-5.005c-.317-2.197-1.541-4.265-3.348-5.56-.96.913-1.865 1.885-2.829 2.793.011-2.593.009-5.186.001-7.78zM4.511 2.766A11.75 11.75 0 0 1 11.245.262c.281-.003.57-.052.847.021-.01 1.1-.011 2.2 0 3.3-.99.012-1.988.116-2.928.444-2.002.65-3.727 2.092-4.746 3.931a8.424 8.424 0 0 0 1.878 10.493c.213-.148.373-.354.559-.53.781-.771 1.543-1.561 2.334-2.321-.007 2.594-.004 5.187-.002 7.781-2.594.024-5.19.009-7.786.007.821-.856 1.676-1.68 2.511-2.523a4.708 4.708 0 0 0-.112-.129 11.774 11.774 0 0 1-3.468-5.894 11.904 11.904 0 0 1 .119-6.035 11.807 11.807 0 0 1 4.06-6.041z"/></g>
                        </svg>
                        <span class="refresh">Refresh</span>
                    </li>
                </ul>
            </div>
            <div id="playlist-header">
                <h3 class="playlists">Playlists</h3>
            </div>
            <div id="playlists" class="mt-3">
                <ul>
                </ul>
            </div>
            <footer>
                <i class="bi bi-plus-circle my-auto mx-auto text-secondary" style="font-size: 1.3rem;"></i>
                <!-- <button type="button" name="button">New List</button> -->
                <input id="new_list-input" type="text" name="new_list" placeholder="New List" onkeyup="playlist.createPlaylist(this, event)">
            </footer>
        </div>

        <!-- Right pane -->
        <div id="content-right">
            <div id="content-right-header">
                <h1 class="content-right-header-text">New Episodes</h1>
                <div id="content-right-header-actions"></div>
            </div>
            <div id="content-right-body">
                <div id="res">
                    <ul id="list"></ul>
                </div>
            </div>
        </div>

        <!-- Bottom pane -->
        <div id="content-bottom">
            <div id="content-right-footer">
                <audio id="player">
                    <source src="" type="audio/mpeg">
                </audio>
                <div id="content-right-player">
                    <div id="slider-container">
                        <input type= "range" class = "slider" id = "slider" value = "0" maxlength ="100" >
                    </div>
                    <img id="content-right-player-img" src="./img/podcast_07prct.png" alt="">
                    <div id="content-right-player-title">No episode selected</div>
                    <i id="replay-30-sec" onclick="audioPlayer.playReply()" class="btn btn-link link-secondary bi bi-skip-backward-circle" style="font-size: 1.8rem;"></i>
                    <i id="play-pause" onclick="audioPlayer.togglePlayPauseButton()" mode="pause" class="btn btn-link link-secondary bi bi-play-circle-fill" style="font-size: 1.8rem;"></i>
                    <i id="forward-30-sec" onclick="audioPlayer.playForward()" class="btn btn-link link-secondary bi bi-skip-forward-circle" style="font-size: 1.8rem;"></i>
                    <i id="volume-button" onclick="audioPlayer.volumeToggle()" class="btn btn-link link-secondary bi bi-volume-up" style="font-size: 1.8rem;"></i>
                    <input type="range" id="volume" name="volume" min="0.001" max="1" step="0.0001" oninput="audioPlayer.setPlaybackVolume(this)">
                    <div id="volume-fill"></div>
                    <div class="content-right-player-speed-btn">
                        <button class="content-right-player-speed" id="content-right-player-speed-down" type="button" name="speedDown" onclick="audioPlayer.speedDown()">-</button>
                        <button id="content-right-player-speed-indicator">1.0x</button>
                        <button class="content-right-player-speed" id="content-right-player-speed-up" type="button" name="speed" onclick="audioPlayer.speedUp()">+</button>
                    </div>
                    <div id="content-right-player-time">00:00:00</div>
                    <div id="content-right-player-duration">00:00:00</div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
