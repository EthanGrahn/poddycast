<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Poddycast</title>
    <link rel="stylesheet" href="./css/main.css">
    <link rel="stylesheet" href="./css/content_left.css">
    <link rel="stylesheet" href="./css/content_right.css">
    <link rel="stylesheet" href="./css/content_bottom.css">
    <link rel="stylesheet" href="./css/player.css">
    <link rel="stylesheet" href="./css/list_item.css">
    <link rel="stylesheet" href="node_modules/bootstrap-icons/font/bootstrap-icons.css">
    <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
    <script src="node_modules/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        window.i18n = new (require('./translations/i18n'));
        const feed = require('./js/feed');
        const search = require('./js/search');
        const global = require('./js/helper/helper_global');
        const navigation = require('./js/helper/helper_navigation');
        const entries = require('./js/helper/helper_entries');
        const audioPlayer = require('./js/player');
        const playlist = require('./js/playlist');
        const favorite = require('./js/favorite');
        const menu = require('./menu');
        const menujs = require('./js/menu');
        const translations = require('./js/translations');

        function onBodyLoad() {
            global.init();
            playlist.loadPlaylists();
            feed.readFeeds();
            menujs.showNewEpisodes();
            navigation.setItemCounts();
            translations.translate();
            audioPlayer.init();
        }
    </script>
</head>
<body onload="onBodyLoad()">
    <div id="content">

        <!-- Left pane -->
        <div id="content-left">
            <div id="search" class="bg-light rounded-3">
                <i class="bi bi-search my-auto text-secondary"></i>
                <input id="search-input" type="text" name="search" placeholder="Find podcast" onkeyup="search.search(this, event)">
            </div>
            <div id="menu" class="mt-2">
                <ul>
                    <li id="menu-episodes" class="mx-2 rounded-3 fw-light selected" onclick="menujs.selectMenuItem('menu-episodes'); menujs.showNewEpisodes()">
                        <i class="bi bi-music-note-list text-blue my-auto" style="font-size: 1.3rem;"></i>
                        <span class="new-episodes">New Episodes</span>
                        <div class="menu-count">0</div>
                    </li>
                    <li id="menu-favorites" class="mx-2 rounded-3 fw-light" onclick="menujs.selectMenuItem('menu-favorites'); menujs.showFavorites()">
                        <i class="bi bi-heart-fill text-pink my-auto" style="font-size: 1.3rem;"></i>
                        <span class="favorites">Favorites</span>
                        <div class="menu-count">0</div>
                    </li>
                    <li id="menu-history" class="mx-2 rounded-3 fw-light" onclick="menujs.selectMenuItem('menu-history'); menujs.showHistory()">
                        <i class="bi bi-clock-history text-secondary my-auto" style="font-size: 1.3rem;"></i>
                        <span class="history">History</span>
                    </li>
                    <li id="menu-statistics" class="mx-2 rounded-3 fw-light" onclick="menujs.selectMenuItem('menu-statistics'); menujs.showStatistics()">
                        <i class="bi bi-clipboard-data-fill text-teal my-auto" style="font-size: 1.3rem;"></i>
                        <span class="statistics">Statistics</span>
                    </li>
                    <li id="menu-refresh" class="mx-2 px-2 rounded-3 fw-light mt-4 btn btn-outline-secondary border-secondary" onclick="feed.readFeeds()">
                        <i class="bi bi-arrow-repeat" style="font-size: 1rem;"></i>
                        <span class="refresh">Refresh</span>
                    </li>
                </ul>
            </div>
            <div id="playlist-header">
                <h3 class="playlists">Playlists</h3>
            </div>
            <div id="playlists" class="mt-3">
                <ul>
                </ul>
            </div>
            <footer>
                <i class="bi bi-plus-circle my-auto mx-auto text-secondary" style="font-size: 1.3rem;"></i>
                <!-- <button type="button" name="button">New List</button> -->
                <input id="new_list-input" type="text" name="new_list" placeholder="New List" onkeyup="playlist.createPlaylist(this, event)">
            </footer>
        </div>

        <!-- Right pane -->
        <div id="content-right">
            <div id="content-right-header">
                <h1 class="content-right-header-text">New Episodes</h1>
                <div id="content-right-header-actions"></div>
            </div>
            <div id="content-right-body">
                <div id="res">
                    <ul id="list"></ul>
                </div>
            </div>
        </div>

        <!-- Bottom pane -->
        <div id="content-bottom">
            <div id="content-right-footer">
                <audio id="player">
                    <source src="" type="audio/mpeg">
                </audio>
                <div id="content-right-player">
                    <div id="slider-container">
                        <input type= "range" class = "slider" id = "slider" value = "0" maxlength ="100" >
                    </div>
                    <img id="content-right-player-img" src="./img/podcast_07prct.png" alt="">
                    <div id="content-right-player-title">No episode selected</div>
                    <i id="replay-30-sec" onclick="audioPlayer.playReply()" class="btn btn-link link-secondary bi bi-skip-backward-circle" style="font-size: 1.8rem;"></i>
                    <i id="play-pause" onclick="audioPlayer.togglePlayPauseButton()" mode="pause" class="btn btn-link link-secondary bi bi-play-circle-fill" style="font-size: 1.8rem;"></i>
                    <i id="forward-30-sec" onclick="audioPlayer.playForward()" class="btn btn-link link-secondary bi bi-skip-forward-circle" style="font-size: 1.8rem;"></i>
                    <i id="volume-button" onclick="audioPlayer.volumeToggle()" class="btn btn-link link-secondary bi bi-volume-up" style="font-size: 1.8rem;"></i>
                    <input type="range" id="volume" name="volume" min="0.001" max="1" step="0.0001" oninput="audioPlayer.setPlaybackVolume(this)">
                    <div id="volume-fill"></div>
                    <div class="content-right-player-speed-btn">
                        <button class="content-right-player-speed" id="content-right-player-speed-down" type="button" name="speedDown" onclick="audioPlayer.speedDown()">-</button>
                        <button id="content-right-player-speed-indicator">1.0x</button>
                        <button class="content-right-player-speed" id="content-right-player-speed-up" type="button" name="speed" onclick="audioPlayer.speedUp()">+</button>
                    </div>
                    <div id="content-right-player-time">00:00:00</div>
                    <div id="content-right-player-duration">00:00:00</div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
